{"version":3,"file":"commonHelpers2.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function getPictures(query) {\n  const BASE_URL = 'https://pixabay.com/api/';\n  const params = new URLSearchParams({\n    key: '45354989-e1e4081af194e4d3149ed2a9d ',\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  const url = `${BASE_URL}?${params}`;\n  const images = fetch(url)\n    .then(res => res.json())\n    .then(data => data.hits)\n    .catch(error => console.log(error));\n\n  return images;\n}\n","export function renderElement({\n  webformatURL,\n  largeImageURL,\n  tags,\n  likes,\n  views,\n  comments,\n  downloads,\n}) {\n  return `<li class=\"gallery-item\">\n    <a class=\"gallery-link\" href= ${largeImageURL}>  \n        <img class=\"gallery-image\"\n            src= \"${webformatURL}\"\n            alt = \"${tags}\"\n        />\n    </a>\n    <div class=\"container\"><h3 class=\"header\">Likes\n        <p class=\"views\">${likes}</p>\n    </h3>\n    <h3 class=\"header\">Views\n    <p class=\"views\">${views}</p>\n    </h3>\n    <h3 class=\"header\">Comments\n    <p class=\"views\">${comments}</p>\n    </h3>\n    <h3 class=\"header\">Downloads\n    <p class=\"views\">${downloads}</p>\n    </h3>\n    </div>\n    \n</li>`;\n}\n\nexport function renderElements(arr) {\n  return arr.map(renderElement).join('');\n}\n","import './js/pixabay-api.js';\nimport './js/render-functions.js';\nimport { getPictures } from './js/pixabay-api.js';\nimport { renderElement } from './js/render-functions.js';\nimport { renderElements } from './js/render-functions.js';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport css from './css/styles.css';\n\nconst form = document.querySelector('.form');\nconst button = document.querySelector('#search');\nconst gallery = document.querySelector('.gallery');\n\nform.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n  const inputValue = event.currentTarget.elements.input.value.trim();\n  gallery.innerHTML = '';\n  if (!inputValue) {\n    iziToast.warning({\n      title: 'Caution',\n      message: 'You forgot to fill in the form!',\n      position: 'topCenter',\n    });\n    return;\n  }\n  showLoader();\n  getPictures(inputValue)\n    .then(images => {\n      hideLoader();\n      if (images.length === 0) {\n        iziToast.error({\n          title: 'Search result',\n          message:\n            'Sorry, there are no images matching your search query. Please try again.',\n          position: 'topCenter',\n        });\n        return;\n      }\n      const markup = renderElements(images);\n      gallery.innerHTML = markup;\n\n      let gallerySlider = new SimpleLightbox('.gallery a', {\n        captionDelay: 250,\n        captionsData: 'alt',\n      }).refresh();\n    })\n    .catch(error => {\n      hideLoader();\n      if (\n        error.name === 'TypeError' &&\n        error.message.includes('Failed to fetch')\n      ) {\n        iziToast.error({\n          title: 'Network Error',\n          message:\n            'Unable to connect. Please check your internet connection and try again.',\n          position: 'topCenter',\n        });\n      } else {\n        iziToast.error({\n          title: 'Error',\n          message: `Error: ${error.message}`,\n          position: 'topCenter',\n        });\n      }\n    });\n\n  form.reset();\n}\n\nfunction showLoader() {\n  const loader = document.createElement('div');\n  loader.className = 'loader';\n  form.insertAdjacentElement('afterend', loader);\n}\n\nfunction hideLoader() {\n  const loader = document.querySelector('.loader');\n  if (loader) {\n    loader.remove();\n  }\n}\n"],"names":["getPictures","query","BASE_URL","params","url","res","data","error","renderElement","webformatURL","largeImageURL","tags","likes","views","comments","downloads","renderElements","arr","form","gallery","handleSubmit","event","inputValue","iziToast","showLoader","images","hideLoader","markup","SimpleLightbox","loader"],"mappings":"wvBAAO,SAASA,EAAYC,EAAO,CACjC,MAAMC,EAAW,2BACXC,EAAS,IAAI,gBAAgB,CACjC,IAAK,sCACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EACKG,EAAM,GAAGF,CAAQ,IAAIC,CAAM,GAMjC,OALe,MAAMC,CAAG,EACrB,KAAKC,GAAOA,EAAI,MAAM,EACtB,KAAKC,GAAQA,EAAK,IAAI,EACtB,MAAMC,GAAS,QAAQ,IAAIA,CAAK,CAAC,CAGtC,CChBO,SAASC,EAAc,CAC5B,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACF,EAAG,CACD,MAAO;AAAA,oCAC2BL,CAAa;AAAA;AAAA,oBAE7BD,CAAY;AAAA,qBACXE,CAAI;AAAA;AAAA;AAAA;AAAA,2BAIEC,CAAK;AAAA;AAAA;AAAA,uBAGTC,CAAK;AAAA;AAAA;AAAA,uBAGLC,CAAQ;AAAA;AAAA;AAAA,uBAGRC,CAAS;AAAA;AAAA;AAAA;AAAA,MAKhC,CAEO,SAASC,EAAeC,EAAK,CAClC,OAAOA,EAAI,IAAIT,CAAa,EAAE,KAAK,EAAE,CACvC,CCrBA,MAAMU,EAAO,SAAS,cAAc,OAAO,EAC5B,SAAS,cAAc,SAAS,EAC/C,MAAMC,EAAU,SAAS,cAAc,UAAU,EAEjDD,EAAK,iBAAiB,SAAUE,CAAY,EAE5C,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EACpB,MAAMC,EAAaD,EAAM,cAAc,SAAS,MAAM,MAAM,OAE5D,GADAF,EAAQ,UAAY,GAChB,CAACG,EAAY,CACfC,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,kCACT,SAAU,WAChB,CAAK,EACD,MACD,CACDC,IACAxB,EAAYsB,CAAU,EACnB,KAAKG,GAAU,CAEd,GADAC,IACID,EAAO,SAAW,EAAG,CACvBF,EAAS,MAAM,CACb,MAAO,gBACP,QACE,2EACF,SAAU,WACpB,CAAS,EACD,MACD,CACD,MAAMI,EAASX,EAAeS,CAAM,EACpCN,EAAQ,UAAYQ,EAEA,IAAIC,EAAe,aAAc,CACnD,aAAc,IACd,aAAc,KACf,CAAA,EAAE,QAAU,CACnB,CAAK,EACA,MAAMrB,GAAS,CACdmB,IAEEnB,EAAM,OAAS,aACfA,EAAM,QAAQ,SAAS,iBAAiB,EAExCgB,EAAS,MAAM,CACb,MAAO,gBACP,QACE,0EACF,SAAU,WACpB,CAAS,EAEDA,EAAS,MAAM,CACb,MAAO,QACP,QAAS,UAAUhB,EAAM,OAAO,GAChC,SAAU,WACpB,CAAS,CAET,CAAK,EAEHW,EAAK,MAAK,CACZ,CAEA,SAASM,GAAa,CACpB,MAAMK,EAAS,SAAS,cAAc,KAAK,EAC3CA,EAAO,UAAY,SACnBX,EAAK,sBAAsB,WAAYW,CAAM,CAC/C,CAEA,SAASH,GAAa,CACpB,MAAMG,EAAS,SAAS,cAAc,SAAS,EAC3CA,GACFA,EAAO,OAAM,CAEjB"}